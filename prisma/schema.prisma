generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model orders {
  id        Int       @id @default(autoincrement())
  userid    Int?
  productid Int?
  orderdate DateTime? @default(now()) @db.Timestamp(6)
  products  products? @relation(fields: [productid], references: [id], onDelete: Cascade, onUpdate: NoAction)
  users     users?    @relation(fields: [userid], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model products {
  id               Int            @id @default(autoincrement())
  name             String
  shortdescription String
  longdescription  String?
  price            Decimal        @db.Decimal(10, 2)
  imageurl         String
  category         String?        @default(dbgenerated("false"))
  orders           orders[]
  shoppingcart     shoppingcart[]
}

model shoppingcart {
  id        Int       @id @default(autoincrement())
  userid    Int?
  productid Int?
  products  products? @relation(fields: [productid], references: [id], onDelete: Cascade, onUpdate: NoAction)
  users     users?    @relation(fields: [userid], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model users {
  id           Int            @id @default(autoincrement())
  name         String
  lastname     String
  email        String         @unique
  password     String
  orders       orders[]
  shoppingcart shoppingcart[]
}
